<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlowNote Demo – AI-Powered PT/OT Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg-primary: #09090b;
            --bg-secondary: #0f0f11;
            --bg-tertiary: #18181b;
            --bg-card: #1c1c1f;
            --bg-hover: #27272a;
            --border: #27272a;
            --border-light: #3f3f46;
            --text-primary: #fafafa;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --accent: #6366f1;
            --accent-light: #818cf8;
            --accent-glow: rgba(99, 102, 241, 0.15);
            --success: #22c55e;
            --success-bg: rgba(34, 197, 94, 0.1);
            --warning: #f59e0b;
            --danger: #ef4444;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            height: 100vh;
            overflow: hidden;
        }
        
        .app {
            display: flex;
            height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 240px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }
        
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            text-decoration: none;
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .sidebar-nav {
            padding: 12px;
            flex: 1;
        }
        
        .nav-section {
            margin-bottom: 24px;
        }
        
        .nav-section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 8px 12px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 12px;
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s;
            margin-bottom: 2px;
        }
        
        .nav-item:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .nav-item.active {
            background: var(--accent-glow);
            color: var(--accent-light);
        }
        
        .nav-item svg {
            width: 18px;
            height: 18px;
            opacity: 0.7;
        }
        
        .nav-item.active svg {
            opacity: 1;
        }
        
        .nav-badge {
            margin-left: auto;
            background: var(--accent);
            color: white;
            font-size: 11px;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 10px;
        }
        
        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid var(--border);
        }
        
        .user-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .user-card:hover {
            background: var(--bg-tertiary);
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }
        
        .user-info {
            flex: 1;
        }
        
        .user-name {
            font-size: 13px;
            font-weight: 600;
        }
        
        .user-role {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        /* Main Content */
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .topbar {
            height: 60px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 24px;
            background: var(--bg-secondary);
        }
        
        .topbar-title {
            font-size: 16px;
            font-weight: 600;
        }
        
        .topbar-actions {
            display: flex;
            gap: 12px;
        }
        
        .btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.15s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--accent);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--accent-light);
        }
        
        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover {
            background: var(--bg-hover);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn svg {
            width: 16px;
            height: 16px;
        }
        
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }
        
        /* Page Styles */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .stat-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
        }
        
        .stat-label {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 700;
        }
        
        .stat-change {
            font-size: 12px;
            color: var(--success);
            margin-top: 4px;
        }
        
        /* Schedule */
        .schedule-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .schedule-date {
            font-size: 20px;
            font-weight: 600;
        }
        
        .schedule-nav {
            display: flex;
            gap: 8px;
        }
        
        .schedule-nav button {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: var(--bg-secondary);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .schedule-nav button:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .appointment-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .appointment {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.15s;
        }
        
        .appointment:hover {
            border-color: var(--border-light);
        }
        
        .appointment-time {
            width: 80px;
            flex-shrink: 0;
        }
        
        .appointment-time-start {
            font-size: 15px;
            font-weight: 600;
        }
        
        .appointment-time-duration {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .appointment-content {
            flex: 1;
        }
        
        .appointment-patient {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .appointment-type {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .appointment-status {
            padding: 4px 10px;
            border-radius: 100px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .appointment-status.confirmed {
            background: var(--success-bg);
            color: var(--success);
        }
        
        .appointment-status.in-progress {
            background: var(--accent-glow);
            color: var(--accent-light);
        }
        
        .appointment-status.pending {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }
        
        .appointment-status.completed {
            background: var(--bg-tertiary);
            color: var(--text-muted);
        }
        
        /* Search Modal */
        .search-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 200;
            align-items: flex-start;
            justify-content: center;
            padding-top: 100px;
        }
        
        .search-modal.active {
            display: flex;
        }
        
        .search-container {
            width: 100%;
            max-width: 560px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
        }
        
        .search-input-wrap {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
        }
        
        .search-input-wrap svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-muted);
        }
        
        .search-input {
            flex: 1;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 16px;
            outline: none;
        }
        
        .search-input::placeholder {
            color: var(--text-muted);
        }
        
        .search-results {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .search-result {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            cursor: pointer;
            transition: background 0.15s;
        }
        
        .search-result:hover {
            background: var(--bg-tertiary);
        }
        
        .search-result-avatar {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }
        
        .search-result-info h4 {
            font-size: 14px;
            font-weight: 600;
        }
        
        .search-result-info p {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .search-hint {
            padding: 20px;
            text-align: center;
            color: var(--text-muted);
            font-size: 14px;
        }
        
        /* Patient List */
        .patient-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .patient-list-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.15s;
        }
        
        .patient-list-item:hover {
            border-color: var(--border-light);
        }
        
        .patient-list-avatar {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .patient-list-info {
            flex: 1;
        }
        
        .patient-list-name {
            font-weight: 600;
            margin-bottom: 2px;
        }
        
        .patient-list-meta {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .patient-list-status {
            text-align: right;
        }
        
        .patient-list-status .next-visit {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .patient-list-status .visit-count {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        /* Back button */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            margin-bottom: 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s;
        }
        
        .back-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }
        
        .back-btn svg {
            width: 16px;
            height: 16px;
        }
        
        /* Patient Chart */
        .patient-header {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border);
        }
        
        .patient-avatar {
            width: 72px;
            height: 72px;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
        }
        
        .patient-info h2 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .patient-meta {
            display: flex;
            gap: 16px;
            color: var(--text-secondary);
            font-size: 14px;
        }
        
        .patient-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 24px;
            border-bottom: 1px solid var(--border);
        }
        
        .patient-tab {
            padding: 12px 16px;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-muted);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-bottom: -1px;
            transition: all 0.15s;
        }
        
        .patient-tab:hover {
            color: var(--text-secondary);
        }
        
        .patient-tab.active {
            color: var(--accent-light);
            border-bottom-color: var(--accent);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .note-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
        }
        
        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .note-date {
            font-weight: 600;
        }
        
        .note-badge {
            padding: 4px 10px;
            background: var(--success-bg);
            color: var(--success);
            border-radius: 100px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .note-section {
            margin-bottom: 16px;
        }
        
        .note-section:last-child {
            margin-bottom: 0;
        }
        
        .note-label {
            font-size: 11px;
            font-weight: 600;
            color: var(--accent-light);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 6px;
        }
        
        .note-content {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }
        
        /* Documentation */
        .doc-container {
            max-width: 800px;
        }
        
        .doc-patient-select {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .doc-patient-avatar {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .doc-patient-info h3 {
            font-size: 16px;
            font-weight: 600;
        }
        
        .doc-patient-info p {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .voice-recorder {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 32px;
            text-align: center;
            margin-bottom: 24px;
        }
        
        .recorder-icon {
            width: 80px;
            height: 80px;
            background: var(--accent-glow);
            border: 2px solid var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .recorder-icon:hover {
            transform: scale(1.05);
            background: var(--accent);
        }
        
        .recorder-icon.recording {
            background: var(--danger);
            border-color: var(--danger);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .recorder-icon svg {
            width: 32px;
            height: 32px;
            stroke: var(--accent);
        }
        
        .recorder-icon:hover svg,
        .recorder-icon.recording svg {
            stroke: white;
        }
        
        .recorder-status {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .recorder-hint {
            font-size: 14px;
            color: var(--text-muted);
        }
        
        .voice-wave {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 4px;
            height: 50px;
            margin: 20px 0;
        }
        
        .voice-wave.active {
            display: flex;
        }
        
        .voice-bar {
            width: 4px;
            background: var(--accent);
            border-radius: 2px;
            animation: voiceWave 0.6s ease-in-out infinite;
        }
        
        .voice-bar:nth-child(1) { height: 20px; animation-delay: 0s; }
        .voice-bar:nth-child(2) { height: 35px; animation-delay: 0.1s; }
        .voice-bar:nth-child(3) { height: 50px; animation-delay: 0.15s; }
        .voice-bar:nth-child(4) { height: 35px; animation-delay: 0.2s; }
        .voice-bar:nth-child(5) { height: 45px; animation-delay: 0.25s; }
        .voice-bar:nth-child(6) { height: 25px; animation-delay: 0.3s; }
        .voice-bar:nth-child(7) { height: 40px; animation-delay: 0.35s; }
        
        @keyframes voiceWave {
            0%, 100% { transform: scaleY(0.4); }
            50% { transform: scaleY(1); }
        }
        
        .transcript {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 16px;
            font-size: 14px;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 16px;
            display: none;
        }
        
        .transcript.active {
            display: block;
        }
        
        .generated-note {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            display: none;
        }
        
        .generated-note.active {
            display: block;
        }
        
        .generated-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .generated-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }
        
        .ai-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            background: var(--accent-glow);
            border: 1px solid var(--accent);
            border-radius: 100px;
            font-size: 11px;
            font-weight: 600;
            color: var(--accent-light);
        }
        
        .note-actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }
        
        /* Exercises */
        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }
        
        .exercise-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.15s;
        }
        
        .exercise-card:hover {
            border-color: var(--border-light);
            transform: translateY(-2px);
        }
        
        .exercise-card.selected {
            border-color: var(--accent);
            background: var(--accent-glow);
        }
        
        .exercise-thumbnail {
            height: 140px;
            background: var(--bg-tertiary);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .exercise-thumbnail svg {
            width: 48px;
            height: 48px;
            stroke: var(--text-muted);
        }
        
        .exercise-info {
            padding: 16px;
        }
        
        .exercise-name {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .exercise-target {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .exercise-check {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            background: var(--accent);
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        .exercise-card.selected .exercise-check {
            display: flex;
        }
        
        /* HEP Builder */
        .hep-builder {
            display: none;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            margin-top: 24px;
        }
        
        .hep-builder.active {
            display: block;
        }
        
        .hep-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .hep-title {
            font-weight: 600;
        }
        
        .hep-count {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .hep-exercise {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            margin-bottom: 8px;
        }
        
        .hep-exercise-name {
            flex: 1;
            font-size: 14px;
            font-weight: 500;
        }
        
        .hep-input {
            width: 60px;
            padding: 6px 10px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 13px;
            text-align: center;
        }
        
        .hep-label {
            font-size: 12px;
            color: var(--text-muted);
            width: 40px;
        }
        
        .hep-send {
            margin-top: 16px;
        }
        
        /* Demo Notice */
        .demo-notice {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 13px;
            color: var(--text-secondary);
            z-index: 100;
        }
        
        .demo-notice a {
            color: var(--accent-light);
            text-decoration: none;
            font-weight: 600;
        }
        
        .demo-notice a:hover {
            text-decoration: underline;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .sidebar { display: none; }
            .stats-grid { grid-template-columns: 1fr 1fr; }
        }
        
        /* Speech-to-Text Modal */
        .stt-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .stt-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .stt-modal {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow: hidden;
            transform: scale(0.95);
            transition: transform 0.3s;
        }
        
        .stt-modal-overlay.active .stt-modal {
            transform: scale(1);
        }
        
        .stt-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid var(--border);
        }
        
        .stt-modal-header h3 {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .stt-modal-header h3 svg {
            color: var(--accent);
        }
        
        .stt-close-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.15s;
        }
        
        .stt-close-btn:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }
        
        .stt-modal-body {
            padding: 24px;
            max-height: calc(90vh - 140px);
            overflow-y: auto;
        }
        
        .stt-audio-player {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .stt-audio-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .stt-play-btn {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--accent);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        
        .stt-play-btn:hover {
            background: var(--accent-light);
            transform: scale(1.05);
        }
        
        .stt-play-btn.playing {
            background: var(--danger);
        }
        
        .stt-play-btn svg {
            width: 24px;
            height: 24px;
        }
        
        .stt-audio-info {
            flex: 1;
        }
        
        .stt-audio-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .stt-audio-meta {
            font-size: 13px;
            color: var(--text-muted);
        }
        
        .stt-waveform {
            height: 48px;
            background: var(--bg-primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3px;
            padding: 0 16px;
            overflow: hidden;
        }
        
        .stt-wave-bar {
            width: 3px;
            background: var(--border-light);
            border-radius: 2px;
            transition: all 0.15s;
        }
        
        .stt-waveform.playing .stt-wave-bar {
            background: var(--accent);
            animation: sttWave 0.5s ease-in-out infinite;
        }
        
        .stt-wave-bar:nth-child(odd) { height: 60%; }
        .stt-wave-bar:nth-child(even) { height: 100%; }
        .stt-wave-bar:nth-child(3n) { height: 80%; }
        .stt-wave-bar:nth-child(4n) { height: 40%; }
        .stt-wave-bar:nth-child(5n) { height: 90%; }
        
        @keyframes sttWave {
            0%, 100% { transform: scaleY(0.6); }
            50% { transform: scaleY(1); }
        }
        
        .stt-wave-bar:nth-child(1) { animation-delay: 0s; }
        .stt-wave-bar:nth-child(2) { animation-delay: 0.05s; }
        .stt-wave-bar:nth-child(3) { animation-delay: 0.1s; }
        .stt-wave-bar:nth-child(4) { animation-delay: 0.15s; }
        .stt-wave-bar:nth-child(5) { animation-delay: 0.2s; }
        .stt-wave-bar:nth-child(6) { animation-delay: 0.25s; }
        .stt-wave-bar:nth-child(7) { animation-delay: 0.3s; }
        .stt-wave-bar:nth-child(8) { animation-delay: 0.35s; }
        .stt-wave-bar:nth-child(9) { animation-delay: 0.4s; }
        .stt-wave-bar:nth-child(10) { animation-delay: 0.45s; }
        
        .stt-progress {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 12px;
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .stt-progress-bar {
            flex: 1;
            height: 4px;
            background: var(--bg-primary);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .stt-progress-fill {
            height: 100%;
            width: 0%;
            background: var(--accent);
            border-radius: 2px;
            transition: width 0.1s linear;
        }
        
        .stt-transcript-area {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
        }
        
        .stt-transcript-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .stt-transcript-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-light);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .stt-live-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            font-weight: 600;
            color: var(--success);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .stt-live-badge.active {
            opacity: 1;
        }
        
        .stt-live-dot {
            width: 6px;
            height: 6px;
            background: var(--success);
            border-radius: 50%;
            animation: livePulse 1s infinite;
        }
        
        @keyframes livePulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }
        
        .stt-transcript-text {
            min-height: 120px;
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-secondary);
        }
        
        .stt-transcript-text .stt-word {
            opacity: 0;
            transition: opacity 0.15s;
        }
        
        .stt-transcript-text .stt-word.visible {
            opacity: 1;
        }
        
        .stt-cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background: var(--accent);
            margin-left: 2px;
            animation: cursorBlink 0.8s infinite;
            vertical-align: text-bottom;
        }
        
        @keyframes cursorBlink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        .stt-modal-footer {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            padding: 16px 24px;
            border-top: 1px solid var(--border);
            background: var(--bg-tertiary);
        }
        
        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .notes-header h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-secondary);
        }
        
        .add-note-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: var(--accent);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .add-note-btn:hover {
            background: var(--accent-light);
            transform: translateY(-1px);
        }
        
        .add-note-btn svg {
            width: 18px;
            height: 18px;
        }
    </style>
</head>
<body>
    <div class="app">
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="../" class="logo">
                    <div class="logo-icon">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                            <path d="M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    FlowNote
                </a>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-item active" data-page="dashboard">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                        Dashboard
                    </div>
                    <div class="nav-item" data-page="schedule">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2"/>
                            <line x1="16" y1="2" x2="16" y2="6"/>
                            <line x1="8" y1="2" x2="8" y2="6"/>
                            <line x1="3" y1="10" x2="21" y2="10"/>
                        </svg>
                        Schedule
                        <span class="nav-badge">8</span>
                    </div>
                    <div class="nav-item" data-page="patients">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        Patients
                    </div>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Clinical</div>
                    <div class="nav-item" data-page="documentation">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                            <line x1="12" y1="19" x2="12" y2="23"/>
                            <line x1="8" y1="23" x2="16" y2="23"/>
                        </svg>
                        AI Documentation
                    </div>
                    <div class="nav-item" data-page="exercises">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                        Exercises
                    </div>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-card">
                    <div class="user-avatar">DR</div>
                    <div class="user-info">
                        <div class="user-name">Dr. Sarah Chen</div>
                        <div class="user-role">PT, DPT</div>
                    </div>
                </div>
            </div>
        </aside>
        
        <main class="main">
            <header class="topbar">
                <div class="topbar-title" id="page-title">Dashboard</div>
                <div class="topbar-actions">
                    <button class="btn btn-secondary">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                        </svg>
                        Search
                    </button>
                    <button class="btn btn-primary" id="new-note-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        New Note
                    </button>
                </div>
            </header>
            
            <div class="content">
                <!-- Dashboard -->
                <div class="page active" id="dashboard">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Today's Patients</div>
                            <div class="stat-value">8</div>
                            <div class="stat-change">2 remaining</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Notes Completed</div>
                            <div class="stat-value">6</div>
                            <div class="stat-change">↑ All on time</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Avg Note Time</div>
                            <div class="stat-value">1:42</div>
                            <div class="stat-change">↓ 4 min from last week</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">HEPs Sent</div>
                            <div class="stat-value">12</div>
                            <div class="stat-change">This week</div>
                        </div>
                    </div>
                    
                    <h3 style="margin-bottom: 16px; font-size: 16px;">Upcoming Appointments</h3>
                    <div class="appointment-list">
                        <div class="appointment" onclick="showPatientDetail('michael')">
                            <div class="appointment-time">
                                <div class="appointment-time-start">2:30 PM</div>
                                <div class="appointment-time-duration">45 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">Michael Rodriguez</div>
                                <div class="appointment-type">Follow-up • Shoulder Rehab</div>
                            </div>
                            <div class="appointment-status in-progress">In Progress</div>
                        </div>
                        <div class="appointment" onclick="showPatientDetail('jennifer')">
                            <div class="appointment-time">
                                <div class="appointment-time-start">3:30 PM</div>
                                <div class="appointment-time-duration">60 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">Jennifer Walsh</div>
                                <div class="appointment-type">Initial Eval • Low Back Pain</div>
                            </div>
                            <div class="appointment-status confirmed">Confirmed</div>
                        </div>
                        <div class="appointment" onclick="showPatientDetail('david')">
                            <div class="appointment-time">
                                <div class="appointment-time-start">4:45 PM</div>
                                <div class="appointment-time-duration">45 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">David Kim</div>
                                <div class="appointment-type">Follow-up • Post-op Knee</div>
                            </div>
                            <div class="appointment-status pending">Pending</div>
                        </div>
                    </div>
                </div>
                
                <!-- Schedule -->
                <div class="page" id="schedule">
                    <div class="schedule-header">
                        <div class="schedule-date">Thursday, February 6, 2026</div>
                        <div class="schedule-nav">
                            <button><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg></button>
                            <button><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg></button>
                        </div>
                    </div>
                    <div class="appointment-list">
                        <div class="appointment" style="opacity: 0.6;">
                            <div class="appointment-time">
                                <div class="appointment-time-start">8:00 AM</div>
                                <div class="appointment-time-duration">60 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">Robert Thompson</div>
                                <div class="appointment-type">Initial Eval • Neck Pain</div>
                            </div>
                            <div class="appointment-status completed">Completed</div>
                        </div>
                        <div class="appointment" style="opacity: 0.6;">
                            <div class="appointment-time">
                                <div class="appointment-time-start">9:15 AM</div>
                                <div class="appointment-time-duration">45 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">Lisa Martinez</div>
                                <div class="appointment-type">Follow-up • Hip Replacement</div>
                            </div>
                            <div class="appointment-status completed">Completed</div>
                        </div>
                        <div class="appointment" onclick="showPatientDetail('michael')">
                            <div class="appointment-time">
                                <div class="appointment-time-start">2:30 PM</div>
                                <div class="appointment-time-duration">45 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">Michael Rodriguez</div>
                                <div class="appointment-type">Follow-up • Shoulder Rehab</div>
                            </div>
                            <div class="appointment-status in-progress">In Progress</div>
                        </div>
                        <div class="appointment" onclick="showPatientDetail('jennifer')">
                            <div class="appointment-time">
                                <div class="appointment-time-start">3:30 PM</div>
                                <div class="appointment-time-duration">60 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">Jennifer Walsh</div>
                                <div class="appointment-type">Initial Eval • Low Back Pain</div>
                            </div>
                            <div class="appointment-status confirmed">Confirmed</div>
                        </div>
                        <div class="appointment" onclick="showPatientDetail('david')">
                            <div class="appointment-time">
                                <div class="appointment-time-start">4:45 PM</div>
                                <div class="appointment-time-duration">45 min</div>
                            </div>
                            <div class="appointment-content">
                                <div class="appointment-patient">David Kim</div>
                                <div class="appointment-type">Follow-up • Post-op Knee</div>
                            </div>
                            <div class="appointment-status pending">Pending</div>
                        </div>
                    </div>
                </div>
                
                <!-- Patients List -->
                <div class="page" id="patients">
                    <div class="patient-list">
                        <div class="patient-list-item" onclick="showPatientDetail('michael')">
                            <div class="patient-list-avatar" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">MR</div>
                            <div class="patient-list-info">
                                <div class="patient-list-name">Michael Rodriguez</div>
                                <div class="patient-list-meta">Rotator Cuff Tendinitis • Visit 6 of 12</div>
                            </div>
                            <div class="patient-list-status">
                                <div class="next-visit">Today, 2:30 PM</div>
                                <div class="visit-count">In Progress</div>
                            </div>
                        </div>
                        <div class="patient-list-item" onclick="showPatientDetail('jennifer')">
                            <div class="patient-list-avatar" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">JW</div>
                            <div class="patient-list-info">
                                <div class="patient-list-name">Jennifer Walsh</div>
                                <div class="patient-list-meta">Low Back Pain • Initial Eval</div>
                            </div>
                            <div class="patient-list-status">
                                <div class="next-visit">Today, 3:30 PM</div>
                                <div class="visit-count">New Patient</div>
                            </div>
                        </div>
                        <div class="patient-list-item" onclick="showPatientDetail('david')">
                            <div class="patient-list-avatar" style="background: linear-gradient(135deg, #f59e0b, #d97706);">DK</div>
                            <div class="patient-list-info">
                                <div class="patient-list-name">David Kim</div>
                                <div class="patient-list-meta">Post-op ACL Reconstruction • Visit 8 of 16</div>
                            </div>
                            <div class="patient-list-status">
                                <div class="next-visit">Today, 4:45 PM</div>
                                <div class="visit-count">Week 6 Post-op</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Patient Detail: Michael -->
                <div class="page" id="patient-michael">
                    <button class="back-btn" onclick="showPatientList()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                        Back to Patients
                    </button>
                    <div class="patient-header">
                        <div class="patient-avatar" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">MR</div>
                        <div class="patient-info">
                            <h2>Michael Rodriguez</h2>
                            <div class="patient-meta">
                                <span>DOB: 03/15/1985 (40 yo)</span>
                                <span>•</span>
                                <span>Dx: Rotator Cuff Tendinitis</span>
                                <span>•</span>
                                <span>Visit 6 of 12</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="patient-tabs">
                        <div class="patient-tab active" data-tab="notes">Notes</div>
                        <div class="patient-tab" data-tab="patient-exercises">Exercises</div>
                        <div class="patient-tab" data-tab="documents">Documents</div>
                        <div class="patient-tab" data-tab="billing">Billing</div>
                    </div>
                    
                    <div class="tab-content active" id="notes">
                    <div class="notes-header">
                        <h3>Session Notes</h3>
                        <button class="add-note-btn" onclick="openSpeechToText()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                                <line x1="12" y1="19" x2="12" y2="23"/>
                                <line x1="8" y1="23" x2="16" y2="23"/>
                            </svg>
                            Add Note
                        </button>
                    </div>
                    <div class="notes-list">
                        <div class="note-card">
                            <div class="note-header">
                                <div class="note-date">February 6, 2026 – Session Note</div>
                                <div class="note-badge">Signed</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Subjective</div>
                                <div class="note-content">Patient reports decreased pain at 4/10, improved from 6/10 last session. States he's sleeping better and able to reach the overhead cabinet without sharp pain. Denies numbness or tingling.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Objective</div>
                                <div class="note-content">ROM: Shoulder flexion 120° (↑15° from last visit), Abduction 95° (↑10°), ER 35° (↑5°). Strength: 4/5 flexion, 3+/5 ER/IR. Mild tenderness over anterior deltoid insertion. Negative impingement signs today.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Assessment</div>
                                <div class="note-content">Patient making good progress toward goals. ROM and strength improving as expected. Tolerated increased resistance well today.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Plan</div>
                                <div class="note-content">Continue current POC. Progress strengthening to yellow band next session. Update HEP with new exercises. Follow up in 3 days.</div>
                            </div>
                        </div>
                        
                        <div class="note-card">
                            <div class="note-header">
                                <div class="note-date">February 3, 2026 – Session Note</div>
                                <div class="note-badge">Signed</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Subjective</div>
                                <div class="note-content">Patient reports pain at 6/10 with overhead activities. Difficulty sleeping on affected side. Completed HEP 5/7 days.</div>
                            </div>
                        </div>
                    </div>
                    </div>
                    
                    <div class="tab-content" id="patient-exercises">
                        <div style="background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 20px; margin-bottom: 16px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                <h4 style="font-size: 16px;">Current Home Exercise Program</h4>
                                <span style="font-size: 12px; color: var(--text-muted);">Assigned Feb 3, 2026</span>
                            </div>
                            <div class="hep-exercise" style="background: var(--bg-tertiary); border-radius: 8px; padding: 12px; margin-bottom: 8px; display: flex; align-items: center; gap: 12px;">
                                <div style="width: 48px; height: 48px; background: var(--bg-primary); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/></svg>
                                </div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">Pendulum Exercises</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">10 reps × 3 sets • Daily</div>
                                </div>
                            </div>
                            <div class="hep-exercise" style="background: var(--bg-tertiary); border-radius: 8px; padding: 12px; margin-bottom: 8px; display: flex; align-items: center; gap: 12px;">
                                <div style="width: 48px; height: 48px; background: var(--bg-primary); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/></svg>
                                </div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">Theraband External Rotation</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">15 reps × 3 sets • Daily</div>
                                </div>
                            </div>
                            <div class="hep-exercise" style="background: var(--bg-tertiary); border-radius: 8px; padding: 12px; display: flex; align-items: center; gap: 12px;">
                                <div style="width: 48px; height: 48px; background: var(--bg-primary); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--text-muted)" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/></svg>
                                </div>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">Sleeper Stretch</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">30 sec hold × 3 reps • Daily</div>
                                </div>
                            </div>
                            <button class="btn btn-secondary" style="margin-top: 16px; width: 100%;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                Update Exercise Program
                            </button>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="documents">
                        <div style="background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 20px;">
                            <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 8px; cursor: pointer;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">Initial Evaluation</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">January 20, 2026</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 8px; cursor: pointer;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">Insurance Authorization</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">January 18, 2026</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--bg-tertiary); border-radius: 8px; cursor: pointer;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                <div style="flex: 1;">
                                    <div style="font-weight: 600; font-size: 14px;">Physician Referral</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">January 15, 2026</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="billing">
                        <div style="background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 20px;">
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 20px;">
                                <div style="background: var(--bg-tertiary); padding: 16px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: var(--success);">$720</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">Total Billed</div>
                                </div>
                                <div style="background: var(--bg-tertiary); padding: 16px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700;">$540</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">Insurance Paid</div>
                                </div>
                                <div style="background: var(--bg-tertiary); padding: 16px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; font-weight: 700; color: var(--warning);">$60</div>
                                    <div style="font-size: 12px; color: var(--text-muted);">Patient Owes</div>
                                </div>
                            </div>
                            <div style="font-size: 14px; font-weight: 600; margin-bottom: 12px;">Recent Charges</div>
                            <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border); font-size: 13px;">
                                <span>Feb 6 – Session (97110, 97140)</span>
                                <span>$120</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border); font-size: 13px;">
                                <span>Feb 3 – Session (97110, 97140)</span>
                                <span>$120</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 10px 0; font-size: 13px;">
                                <span>Jan 31 – Session (97110, 97530)</span>
                                <span>$120</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Patient Detail: Jennifer -->
                <div class="page" id="patient-jennifer">
                    <button class="back-btn" onclick="showPatientList()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                        Back to Patients
                    </button>
                    <div class="patient-header">
                        <div class="patient-avatar" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">JW</div>
                        <div class="patient-info">
                            <h2>Jennifer Walsh</h2>
                            <div class="patient-meta">
                                <span>DOB: 07/22/1978 (47 yo)</span>
                                <span>•</span>
                                <span>Dx: Lumbar Radiculopathy</span>
                                <span>•</span>
                                <span>Initial Evaluation</span>
                            </div>
                        </div>
                    </div>
                    <div style="background: var(--bg-secondary); border: 1px solid var(--border); border-radius: 12px; padding: 24px; margin-top: 20px;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                            <span style="color: var(--warning); font-weight: 600;">New Patient – Initial Eval Today at 3:30 PM</span>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 14px; line-height: 1.6;">Referral from Dr. Sarah Miller for low back pain radiating to left leg. Reports symptoms for 6 weeks following lifting injury at work. MRI shows L4-L5 disc herniation.</p>
                        <div style="display: flex; gap: 12px; margin-top: 20px;">
                            <button class="btn btn-primary">Start Initial Eval</button>
                            <button class="btn btn-secondary">View Referral Documents</button>
                        </div>
                    </div>
                </div>
                
                <!-- Patient Detail: David -->
                <div class="page" id="patient-david">
                    <button class="back-btn" onclick="showPatientList()">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                        Back to Patients
                    </button>
                    <div class="patient-header">
                        <div class="patient-avatar" style="background: linear-gradient(135deg, #f59e0b, #d97706);">DK</div>
                        <div class="patient-info">
                            <h2>David Kim</h2>
                            <div class="patient-meta">
                                <span>DOB: 11/03/1995 (30 yo)</span>
                                <span>•</span>
                                <span>Dx: Post-op ACL Reconstruction</span>
                                <span>•</span>
                                <span>Visit 8 of 16</span>
                            </div>
                        </div>
                    </div>
                    <div class="notes-list" style="margin-top: 20px;">
                        <div class="note-card">
                            <div class="note-header">
                                <div class="note-date">February 4, 2026 – Session Note</div>
                                <div class="note-badge">Signed</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Subjective</div>
                                <div class="note-content">Patient reports knee feeling "more stable." Minimal swelling after exercises. Walking without crutches at home. Some stiffness in the morning that improves with movement.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Objective</div>
                                <div class="note-content">ROM: Flexion 125° (WNL), Extension 0°. Girth: 1cm difference from uninvolved. Strength: Quad 4/5, Hamstring 4+/5. Gait: Independent, normal pattern. Single leg balance 30 sec.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Assessment</div>
                                <div class="note-content">6 weeks post-op ACL reconstruction (BTB autograft). Progressing well through protocol. Ready to begin light jogging program.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Plan</div>
                                <div class="note-content">Begin walk-jog intervals on AlterG. Progress closed chain strengthening. Continue HEP. Follow up in 3 days.</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Documentation -->
                <div class="page" id="documentation">
                    <div class="doc-container">
                        <div class="doc-patient-select">
                            <div class="doc-patient-avatar">MR</div>
                            <div class="doc-patient-info">
                                <h3>Michael Rodriguez</h3>
                                <p>Shoulder Rehab • Visit 6 of 12</p>
                            </div>
                            <button class="btn btn-secondary" style="margin-left: auto;">Change Patient</button>
                        </div>
                        
                        <div class="voice-recorder" id="voice-recorder">
                            <div class="recorder-icon" id="record-btn">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                                    <line x1="12" y1="19" x2="12" y2="23"/>
                                    <line x1="8" y1="23" x2="16" y2="23"/>
                                </svg>
                            </div>
                            <div class="voice-wave" id="voice-wave">
                                <div class="voice-bar"></div>
                                <div class="voice-bar"></div>
                                <div class="voice-bar"></div>
                                <div class="voice-bar"></div>
                                <div class="voice-bar"></div>
                                <div class="voice-bar"></div>
                                <div class="voice-bar"></div>
                            </div>
                            <div class="recorder-status" id="recorder-status">Tap to start recording</div>
                            <div class="recorder-hint" id="recorder-hint">Speak naturally about the session</div>
                            <div class="transcript" id="transcript">"Patient reports pain is down to a 4 out of 10, better than last time. ROM improved, got 120 degrees of flexion today. Did manual therapy and theraband exercises. Tolerating well, going to progress to yellow band next time."</div>
                        </div>
                        
                        <div class="generated-note" id="generated-note">
                            <div class="generated-header">
                                <div class="generated-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                        <polyline points="14 2 14 8 20 8"/>
                                    </svg>
                                    Generated SOAP Note
                                </div>
                                <div class="ai-badge">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                                    </svg>
                                    AI Generated
                                </div>
                            </div>
                            
                            <div class="note-section">
                                <div class="note-label">Subjective</div>
                                <div class="note-content">Patient reports decreased pain at 4/10, improved from 6/10 last session. States he's sleeping better and able to reach the overhead cabinet without sharp pain.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Objective</div>
                                <div class="note-content">ROM: Shoulder flexion 120° (↑15° from baseline), Abduction 95°, ER 35°. Strength: 4/5 flexion, 3+/5 ER. Treatment: Manual therapy to posterior capsule, theraband strengthening (red). Patient tolerated all interventions well.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Assessment</div>
                                <div class="note-content">Patient making good progress toward goals. ROM and strength improving as expected. Ready to progress resistance level.</div>
                            </div>
                            <div class="note-section">
                                <div class="note-label">Plan</div>
                                <div class="note-content">Continue current POC. Progress to yellow theraband next session. Update HEP. Follow up in 3 days.</div>
                            </div>
                            
                            <div class="note-actions">
                                <button class="btn btn-secondary">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                    </svg>
                                    Edit Note
                                </button>
                                <button class="btn btn-secondary">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                                    </svg>
                                    Re-record
                                </button>
                                <button class="btn btn-success" style="margin-left: auto;">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                    Sign & Save
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exercises -->
                <div class="page" id="exercises">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div>
                            <h3 style="font-size: 18px; margin-bottom: 4px;">Exercise Library</h3>
                            <p style="color: var(--text-muted); font-size: 14px;">Select exercises to build a home program</p>
                        </div>
                        <button class="btn btn-primary" id="create-hep-btn" style="display: none;">
                            Create HEP (3 selected)
                        </button>
                    </div>
                    
                    <div class="exercise-grid">
                        <div class="exercise-card" onclick="toggleExercise(this)">
                            <div class="exercise-thumbnail">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">Pendulum Exercises</div>
                                <div class="exercise-target">Shoulder • ROM</div>
                            </div>
                        </div>
                        <div class="exercise-card" onclick="toggleExercise(this)">
                            <div class="exercise-thumbnail">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">Theraband External Rotation</div>
                                <div class="exercise-target">Shoulder • Strengthening</div>
                            </div>
                        </div>
                        <div class="exercise-card" onclick="toggleExercise(this)">
                            <div class="exercise-thumbnail">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">Wall Slides</div>
                                <div class="exercise-target">Shoulder • ROM / Strength</div>
                            </div>
                        </div>
                        <div class="exercise-card" onclick="toggleExercise(this)">
                            <div class="exercise-thumbnail">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">Sleeper Stretch</div>
                                <div class="exercise-target">Shoulder • Flexibility</div>
                            </div>
                        </div>
                        <div class="exercise-card" onclick="toggleExercise(this)">
                            <div class="exercise-thumbnail">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">Prone Y's</div>
                                <div class="exercise-target">Shoulder • Strengthening</div>
                            </div>
                        </div>
                        <div class="exercise-card" onclick="toggleExercise(this)">
                            <div class="exercise-thumbnail">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/>
                                </svg>
                            </div>
                            <div class="exercise-info">
                                <div class="exercise-name">Doorway Pec Stretch</div>
                                <div class="exercise-target">Chest • Flexibility</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hep-builder" id="hep-builder">
                        <div class="hep-header">
                            <div class="hep-title">Home Exercise Program</div>
                            <div class="hep-count" id="hep-count">0 exercises</div>
                        </div>
                        <div id="hep-exercises"></div>
                        <div class="hep-send">
                            <button class="btn btn-primary" style="width: 100%;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16">
                                    <line x1="22" y1="2" x2="11" y2="13"/>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                                </svg>
                                Send to Patient via Text
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Search Modal -->
    <div class="search-modal" id="search-modal">
        <div class="search-container">
            <div class="search-input-wrap">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                </svg>
                <input type="text" class="search-input" id="search-input" placeholder="Search patients..." autofocus>
            </div>
            <div class="search-results" id="search-results">
                <div class="search-result" onclick="searchSelectPatient('michael')">
                    <div class="search-result-avatar" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">MR</div>
                    <div class="search-result-info">
                        <h4>Michael Rodriguez</h4>
                        <p>Rotator Cuff Tendinitis • Visit 6 of 12</p>
                    </div>
                </div>
                <div class="search-result" onclick="searchSelectPatient('jennifer')">
                    <div class="search-result-avatar" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">JW</div>
                    <div class="search-result-info">
                        <h4>Jennifer Walsh</h4>
                        <p>Low Back Pain • Initial Eval</p>
                    </div>
                </div>
                <div class="search-result" onclick="searchSelectPatient('david')">
                    <div class="search-result-avatar" style="background: linear-gradient(135deg, #f59e0b, #d97706);">DK</div>
                    <div class="search-result-info">
                        <h4>David Kim</h4>
                        <p>Post-op ACL Reconstruction • Visit 8 of 16</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Speech-to-Text Modal -->
    <div class="stt-modal-overlay" id="stt-modal">
        <div class="stt-modal">
            <div class="stt-modal-header">
                <h3>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                        <line x1="12" y1="19" x2="12" y2="23"/>
                        <line x1="8" y1="23" x2="16" y2="23"/>
                    </svg>
                    Voice-to-Note Transcription
                </h3>
                <button class="stt-close-btn" onclick="closeSpeechToText()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="stt-modal-body">
                <div class="stt-audio-player">
                    <div class="stt-audio-header">
                        <button class="stt-play-btn" id="stt-play-btn" onclick="toggleTranscription()">
                            <svg id="stt-play-icon" viewBox="0 0 24 24" fill="currentColor" stroke="none">
                                <polygon points="5 3 19 12 5 21 5 3"/>
                            </svg>
                            <svg id="stt-pause-icon" viewBox="0 0 24 24" fill="currentColor" stroke="none" style="display: none;">
                                <rect x="6" y="4" width="4" height="16"/>
                                <rect x="14" y="4" width="4" height="16"/>
                            </svg>
                        </button>
                        <div class="stt-audio-info">
                            <div class="stt-audio-title">Session Recording</div>
                            <div class="stt-audio-meta">Michael Rodriguez • Feb 7, 2026 • 0:47</div>
                        </div>
                    </div>
                    <div class="stt-waveform" id="stt-waveform">
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                        <div class="stt-wave-bar"></div>
                    </div>
                    <div class="stt-progress">
                        <span id="stt-current-time">0:00</span>
                        <div class="stt-progress-bar">
                            <div class="stt-progress-fill" id="stt-progress-fill"></div>
                        </div>
                        <span>0:47</span>
                    </div>
                </div>
                
                <div class="stt-transcript-area">
                    <div class="stt-transcript-header">
                        <span class="stt-transcript-label">Live Transcription</span>
                        <span class="stt-live-badge" id="stt-live-badge">
                            <span class="stt-live-dot"></span>
                            Transcribing
                        </span>
                    </div>
                    <div class="stt-transcript-text" id="stt-transcript-text">
                        <!-- Words will be inserted here -->
                        <span class="stt-cursor" id="stt-cursor" style="display: none;"></span>
                    </div>
                </div>
            </div>
            <div class="stt-modal-footer">
                <button class="btn btn-secondary" onclick="closeSpeechToText()">Cancel</button>
                <button class="btn btn-success" id="stt-generate-btn" disabled onclick="generateNoteFromTranscript()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                    </svg>
                    Generate SOAP Note
                </button>
            </div>
        </div>
    </div>
    
    <div class="demo-notice">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="16" x2="12" y2="12"/>
            <line x1="12" y1="8" x2="12.01" y2="8"/>
        </svg>
        This is an interactive demo. <a href="../#cta">Join the waitlist</a> for early access.
    </div>

    <script>
        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                const page = item.dataset.page;
                
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.getElementById(page).classList.add('active');
                
                const titles = {
                    dashboard: 'Dashboard',
                    schedule: 'Schedule',
                    patients: 'Patients',
                    documentation: 'AI Documentation',
                    exercises: 'Exercise Library'
                };
                document.getElementById('page-title').textContent = titles[page] || 'Dashboard';
            });
        });
        
        // New Note button
        document.getElementById('new-note-btn').addEventListener('click', () => {
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.querySelector('[data-page="documentation"]').classList.add('active');
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('documentation').classList.add('active');
            document.getElementById('page-title').textContent = 'AI Documentation';
        });
        
        // Show patient from dashboard (default to Michael)
        function showPatient() {
            showPatientDetail('michael');
        }
        
        // Show patient list
        function showPatientList() {
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.querySelector('[data-page="patients"]').classList.add('active');
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('patients').classList.add('active');
            document.getElementById('page-title').textContent = 'Patients';
        }
        
        // Show specific patient detail
        function showPatientDetail(patientId) {
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            document.querySelector('[data-page="patients"]').classList.add('active');
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('patient-' + patientId).classList.add('active');
            
            const names = {
                michael: 'Michael Rodriguez',
                jennifer: 'Jennifer Walsh',
                david: 'David Kim'
            };
            document.getElementById('page-title').textContent = names[patientId] || 'Patient Chart';
        }
        
        // Search functionality
        const searchModal = document.getElementById('search-modal');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        
        document.querySelector('.btn-secondary').addEventListener('click', (e) => {
            if (e.target.textContent.includes('Search')) {
                openSearch();
            }
        });
        
        function openSearch() {
            searchModal.classList.add('active');
            searchInput.focus();
            searchInput.value = '';
            filterSearchResults('');
        }
        
        function closeSearch() {
            searchModal.classList.remove('active');
        }
        
        searchModal.addEventListener('click', (e) => {
            if (e.target === searchModal) {
                closeSearch();
            }
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeSearch();
            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                e.preventDefault();
                openSearch();
            }
        });
        
        const patients = [
            { id: 'michael', name: 'Michael Rodriguez', meta: 'Rotator Cuff Tendinitis • Visit 6 of 12', color: 'linear-gradient(135deg, #06b6d4, #0891b2)', initials: 'MR' },
            { id: 'jennifer', name: 'Jennifer Walsh', meta: 'Low Back Pain • Initial Eval', color: 'linear-gradient(135deg, #8b5cf6, #7c3aed)', initials: 'JW' },
            { id: 'david', name: 'David Kim', meta: 'Post-op ACL Reconstruction • Visit 8 of 16', color: 'linear-gradient(135deg, #f59e0b, #d97706)', initials: 'DK' }
        ];
        
        searchInput.addEventListener('input', (e) => {
            filterSearchResults(e.target.value);
        });
        
        function filterSearchResults(query) {
            const q = query.toLowerCase();
            const filtered = patients.filter(p => 
                p.name.toLowerCase().includes(q) || 
                p.meta.toLowerCase().includes(q)
            );
            
            if (filtered.length === 0) {
                searchResults.innerHTML = '<div class="search-hint">No patients found</div>';
            } else {
                searchResults.innerHTML = filtered.map(p => `
                    <div class="search-result" onclick="searchSelectPatient('${p.id}')">
                        <div class="search-result-avatar" style="background: ${p.color};">${p.initials}</div>
                        <div class="search-result-info">
                            <h4>${p.name}</h4>
                            <p>${p.meta}</p>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        function searchSelectPatient(patientId) {
            closeSearch();
            showPatientDetail(patientId);
        }
        
        // Patient tabs
        document.querySelectorAll('.patient-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.dataset.tab;
                
                document.querySelectorAll('.patient-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                document.getElementById(tabId).classList.add('active');
            });
        });
        
        // Voice Recording Simulation
        let isRecording = false;
        const recordBtn = document.getElementById('record-btn');
        const recorderStatus = document.getElementById('recorder-status');
        const recorderHint = document.getElementById('recorder-hint');
        const voiceWave = document.getElementById('voice-wave');
        const transcript = document.getElementById('transcript');
        const generatedNote = document.getElementById('generated-note');
        
        recordBtn.addEventListener('click', () => {
            if (!isRecording) {
                // Start recording
                isRecording = true;
                recordBtn.classList.add('recording');
                recorderStatus.textContent = 'Recording...';
                recorderHint.textContent = 'Tap again to stop';
                voiceWave.classList.add('active');
                transcript.classList.remove('active');
                generatedNote.classList.remove('active');
            } else {
                // Stop recording
                isRecording = false;
                recordBtn.classList.remove('recording');
                recorderStatus.textContent = 'Processing...';
                recorderHint.textContent = 'AI is generating your note';
                voiceWave.classList.remove('active');
                
                // Show transcript
                setTimeout(() => {
                    transcript.classList.add('active');
                    recorderStatus.textContent = 'Generating SOAP note...';
                }, 500);
                
                // Show generated note
                setTimeout(() => {
                    recorderStatus.textContent = 'Note generated!';
                    recorderHint.textContent = 'Review and sign below';
                    generatedNote.classList.add('active');
                }, 1500);
            }
        });
        
        // Exercise Selection
        let selectedExercises = [];
        
        function toggleExercise(card) {
            card.classList.toggle('selected');
            const name = card.querySelector('.exercise-name').textContent;
            
            if (card.classList.contains('selected')) {
                selectedExercises.push(name);
            } else {
                selectedExercises = selectedExercises.filter(e => e !== name);
            }
            
            updateHEPBuilder();
        }
        
        function updateHEPBuilder() {
            const builder = document.getElementById('hep-builder');
            const count = document.getElementById('hep-count');
            const exercises = document.getElementById('hep-exercises');
            const createBtn = document.getElementById('create-hep-btn');
            
            if (selectedExercises.length > 0) {
                builder.classList.add('active');
                createBtn.style.display = 'flex';
                createBtn.textContent = `Create HEP (${selectedExercises.length} selected)`;
                count.textContent = `${selectedExercises.length} exercises`;
                
                exercises.innerHTML = selectedExercises.map(name => `
                    <div class="hep-exercise">
                        <div class="hep-exercise-name">${name}</div>
                        <input type="text" class="hep-input" value="10" />
                        <span class="hep-label">reps</span>
                        <input type="text" class="hep-input" value="3" />
                        <span class="hep-label">sets</span>
                    </div>
                `).join('');
            } else {
                builder.classList.remove('active');
                createBtn.style.display = 'none';
            }
        }
        
        // Speech-to-Text Transcription
        const sttTranscriptText = "So Michael came in today, he's feeling a lot better. Pain is down to about a 4 out of 10, which is a big improvement from the 6 he reported last time. He mentioned he's sleeping better now and can reach the overhead cabinet without that sharp pain. We tested his range of motion and got 120 degrees of flexion today, which is up about 15 degrees from last visit. Abduction is at 95 degrees, external rotation at 35. Strength is looking good, 4 out of 5 on flexion and 3 plus on external rotation. Did some manual therapy on the posterior capsule and progressed him to red theraband exercises. He tolerated everything really well. I think we're ready to bump him up to yellow band next session. Updated his home exercise program and we'll see him again in 3 days.";
        
        let sttWords = [];
        let sttCurrentWordIndex = 0;
        let sttIsPlaying = false;
        let sttInterval = null;
        let sttTotalDuration = 47000; // 47 seconds in ms
        let sttStartTime = null;
        let sttElapsedTime = 0;
        
        function openSpeechToText() {
            const modal = document.getElementById('stt-modal');
            modal.classList.add('active');
            
            // Reset state
            resetTranscription();
        }
        
        function closeSpeechToText() {
            const modal = document.getElementById('stt-modal');
            modal.classList.remove('active');
            
            // Stop if playing
            if (sttIsPlaying) {
                stopTranscription();
            }
        }
        
        function resetTranscription() {
            sttCurrentWordIndex = 0;
            sttElapsedTime = 0;
            sttIsPlaying = false;
            
            // Prepare words
            const transcriptContainer = document.getElementById('stt-transcript-text');
            sttWords = sttTranscriptText.split(' ');
            transcriptContainer.innerHTML = sttWords.map((word, i) => 
                `<span class="stt-word" data-index="${i}">${word}</span> `
            ).join('') + '<span class="stt-cursor" id="stt-cursor" style="display: none;"></span>';
            
            // Reset UI
            document.getElementById('stt-play-icon').style.display = 'block';
            document.getElementById('stt-pause-icon').style.display = 'none';
            document.getElementById('stt-play-btn').classList.remove('playing');
            document.getElementById('stt-waveform').classList.remove('playing');
            document.getElementById('stt-live-badge').classList.remove('active');
            document.getElementById('stt-cursor').style.display = 'none';
            document.getElementById('stt-progress-fill').style.width = '0%';
            document.getElementById('stt-current-time').textContent = '0:00';
            document.getElementById('stt-generate-btn').disabled = true;
        }
        
        function toggleTranscription() {
            if (sttIsPlaying) {
                pauseTranscription();
            } else {
                startTranscription();
            }
        }
        
        function startTranscription() {
            sttIsPlaying = true;
            sttStartTime = Date.now() - sttElapsedTime;
            
            // Update UI
            document.getElementById('stt-play-icon').style.display = 'none';
            document.getElementById('stt-pause-icon').style.display = 'block';
            document.getElementById('stt-play-btn').classList.add('playing');
            document.getElementById('stt-waveform').classList.add('playing');
            document.getElementById('stt-live-badge').classList.add('active');
            document.getElementById('stt-cursor').style.display = 'inline-block';
            
            // Calculate time per word
            const timePerWord = sttTotalDuration / sttWords.length;
            
            // Start word animation
            sttInterval = setInterval(() => {
                if (sttCurrentWordIndex < sttWords.length) {
                    const wordSpan = document.querySelector(`.stt-word[data-index="${sttCurrentWordIndex}"]`);
                    if (wordSpan) {
                        wordSpan.classList.add('visible');
                    }
                    sttCurrentWordIndex++;
                    
                    // Update progress
                    sttElapsedTime = Date.now() - sttStartTime;
                    const progress = Math.min((sttElapsedTime / sttTotalDuration) * 100, 100);
                    document.getElementById('stt-progress-fill').style.width = progress + '%';
                    
                    // Update time display
                    const seconds = Math.floor(sttElapsedTime / 1000);
                    const mins = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    document.getElementById('stt-current-time').textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
                } else {
                    // Finished
                    completeTranscription();
                }
            }, timePerWord);
        }
        
        function pauseTranscription() {
            sttIsPlaying = false;
            clearInterval(sttInterval);
            
            // Update UI
            document.getElementById('stt-play-icon').style.display = 'block';
            document.getElementById('stt-pause-icon').style.display = 'none';
            document.getElementById('stt-play-btn').classList.remove('playing');
            document.getElementById('stt-waveform').classList.remove('playing');
        }
        
        function stopTranscription() {
            sttIsPlaying = false;
            clearInterval(sttInterval);
            
            document.getElementById('stt-play-icon').style.display = 'block';
            document.getElementById('stt-pause-icon').style.display = 'none';
            document.getElementById('stt-play-btn').classList.remove('playing');
            document.getElementById('stt-waveform').classList.remove('playing');
            document.getElementById('stt-live-badge').classList.remove('active');
            document.getElementById('stt-cursor').style.display = 'none';
        }
        
        function completeTranscription() {
            stopTranscription();
            
            // Set progress to 100%
            document.getElementById('stt-progress-fill').style.width = '100%';
            document.getElementById('stt-current-time').textContent = '0:47';
            
            // Enable generate button
            document.getElementById('stt-generate-btn').disabled = false;
            
            // Show all words visible
            document.querySelectorAll('.stt-word').forEach(w => w.classList.add('visible'));
        }
        
        function generateNoteFromTranscript() {
            // Close modal
            closeSpeechToText();
            
            // Could add a generated note to the list here
            alert('SOAP note generated! (In the full version, this would add the AI-generated note to the patient record.)');
        }
        
        // Close modal on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeSpeechToText();
            }
        });
        
        // Close modal on overlay click
        document.getElementById('stt-modal').addEventListener('click', (e) => {
            if (e.target.id === 'stt-modal') {
                closeSpeechToText();
            }
        });
    </script>
</body>
</html>
